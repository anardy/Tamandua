!function(a){var b=a.sammy("#main",function(){this.use("Mustache","html");var b={msg:"",tipo:""};this.helpers({getNroConta:function(){var a=new Sammy.Store.SessionStorage("conta");return a.get("nroconta")},limparNroConta:function(){var a=new Sammy.Store.SessionStorage("conta");a.clear("nroconta")}}),this.get("#/",function(a){a.app.swap("")}),this.get("#/saldo",function(b){b.app.swap(""),this.load("http://localhost:8080/TamanduaWS/api/transacao/saldo/"+this.getNroConta()).then(function(c){if(null!==c){var d=a.parseJSON(c);b.saldo=d[0].saldo}else b.saldo="Não foi encontrado o saldo por falta de informação"}).partial("templates/saldo.html")}),this.get("#/transferencia",function(c){c.app.swap(""),this.msgm=b.msg,this.nroconta=this.getNroConta(),this.partial("templates/transferencia.html").then(function(c){""!==b.msg&&a("#divAlertTransferencia").addClass("erro"===b.tipo?"alert-danger":"alert-success").removeClass("hide")})}),this.post("#/transferencia",function(c){a.ajaxSetup({async:!1});var d;a.post("http://localhost:8080/TamanduaWS/api/transacao/transferencia",a("form").serialize(),function(a){d=a}),a.ajaxSetup({async:!0}),b=d,this.redirect("#/transferencia")}),this.get("#/extrato",function(a){a.app.swap(""),this.load("http://localhost:8080/TamanduaWS/api/transacao/extrato/"+this.getNroConta(),{json:!0}).then(function(b){for(var c in b){var d=new Date(b[c].data);b[c].fator=1===b[c].fator?"<i class='fa fa-plus'/>":"<i class='fa fa-minus'/>",b[c].data=d.getDate()+"/"+d.getMonth()+"/"+d.getFullYear()+" "+d.getHours()+":"+d.getMinutes();var e="";switch(b[c].tipotransacao){case 1:e="Extrato";break;case 2:e="Transferência";break;case 3:e="Pagamento"}b[c].tipotransacao=e}if(null===b){var f={};b=[],b.push(f)}a.renderEach("templates/extrato.html",b).appendTo(a.$element())})}),this.get("#/logout",function(a){this.limparNroConta(),window.location.replace("http://localhost/Tamandua/src/")})});a(function(){b.run("#/")})}(jQuery);